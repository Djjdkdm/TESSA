/*
          █▀▀█ █▀▄▀█ █▀▀█ █▀▀█ █▀▀▀█ █░▄▀        
          █▄▄█ █▒█▒█ █▄▄█ █▄▄▀ █░░▒█ █▀▄░         
          █░▒█ █░░▒█ █░▒█ █░▒█ █▄▄▄█ █░▒█ 
                        
                         ─────╔╗
                         ╔══╗╔╝║
                         ║║║║║╬║
                         ╚╩╩╝╚═╝
                         ───────      
       Thanks to Inrl for helping
*/

const { command } = require("../lib");
const Config = require("../config");
const { SUDO } = require("../config");
const Heroku = require("heroku-client");
const heroku = new Heroku({ token: Config.HEROKU_API_KEY });
const baseURI = "/apps/" + Config.HEROKU_APP_NAME;

command(
  {
    pattern: "setpp",
    fromMe: true,
    type: "user",
  },
  async (message, match, m) => {
    if (!message.reply_message.image)
      return await message.reply("_Please Reply To A Photo_");
    let buff = await m.quoted.download();
    await message.setPP(message.user, buff);
    return await message.reply("_Profile Picture Updated_");
  }
);

command(
  {
    pattern: "setname ?(.*)",
    fromMe: true,
    type: "user",
  },
  async (message, match) => {
    if (!match) return await message.reply("_Enter name_");
    await message.updateName(match);
    return await message.reply(`_Username Updated : ${match}_`);
  }
);

command(
  {
    pattern: "block ?(.*)",
    fromMe: true,
    type: "user",
  },
  async (message, match) => {
    if (message.isGroup) {
      let jid = message.mention[0] || message.reply_message.jid;
      if (!jid) return await message.reply("_Reply to a person or mention_");
      await message.block(jid);
      return await message.sendMessageMessage(`_@${jid.split("@")[0]} Blocked_`, {
        mentions: [jid],
      });
    } else {
      await message.block(message.jid);
      return await message.reply("_User blocked_");
    }
  }
);

command(
  {
    pattern: "unblock ?(.*)",
    fromMe: true,
    type: "user",
  },
  async (message, match) => {
    if (message.isGroup) {
      let jid = message.mention[0] || message.reply_message.jid;
      if (!jid) return await message.reply("_Reply to a person or mention_");
      await message.block(jid);
      return await message.sendMessage(`_@${jid.split("@")[0]} unblocked_`, {
        mentions: [jid],
      });
    } else {
      await message.unblock(message.jid);
      return await message.reply("_User unblocked_");
    }
  }
);

command(
  {
    pattern: "jid ?(.*)",
    fromMe: true,
    type: "user",
  },
  async (message, match) => {
    return await message.sendMessage(
      message.mention[0] || message.reply_message.jid || message.jid
    );
  }
);


command(
  {
    pattern: "delsudo ?(.*)",
    fromMe: true,
    desc: "delete sudo sudo",
    type: "user",
  },
  async (message,m, mm, match) => {
    var newSudo = (m.reply_message ? m.reply_message.jid : "" || mm).split(
      "@"
    )[0];
    if (!newSudo) return await m.sendMessage("*Need reply/mention/number*");
    var setSudo = SUDO.replace(newSudo, "").replace(/,,/g, ",");
    setSudo = setSudo.startsWith(",") ? setSudo.replace(",", "") : setSudo;
    await message.sendMessage("```NEW SUDO NUMBERS ARE: ```" + setSudo, {
      quoted: m,
    });
    await message.sendMessage("_IT TAKES 30 SECONDS TO MAKE EFFECT_", { quoted: m });
    await heroku
      .patch(baseURI + "/config-vars", { body: { SUDO: setSudo } })
      .then(async (app) => {});
  }
);

command(
  {
    pattern: "dlt ?(.*)",
    fromMe: true,
    type: "user",
  },
  async (message, match,m,client) => {
    if (message.isGroup) {
      client.sendMessage(message.jid, { delete: message.reply_message.key })
    }
  }
);
function _0x2235(_0x141d8a,_0x4db255){const _0x277377=_0x31c0();return _0x2235=function(_0x4070f7,_0x35ef5a){_0x4070f7=_0x4070f7-(0x1d36+-0x20a1+0x4e3);let _0x24d262=_0x277377[_0x4070f7];return _0x24d262;},_0x2235(_0x141d8a,_0x4db255);}(function(_0x29a93d,_0x5c3393){function _0x446335(_0x4aefa2,_0x872fe1,_0x2961ea,_0x28eed2,_0x511524){return _0x2235(_0x511524-0x83,_0x872fe1);}const _0x6839de=_0x29a93d();function _0x51839a(_0x560369,_0x388855,_0x17cf20,_0x312e01,_0x1a1241){return _0x2235(_0x312e01-0x209,_0x388855);}function _0xb6ef7f(_0x4714da,_0x1fc86c,_0x312217,_0x39400a,_0x4a00eb){return _0x2235(_0x312217- -0x180,_0x4a00eb);}function _0x2372d6(_0xae48f0,_0x2ad23a,_0x20213d,_0x585196,_0x3911b4){return _0x2235(_0xae48f0-0x36a,_0x20213d);}function _0x272826(_0x276c50,_0x2b0557,_0x4aabad,_0x5986b2,_0x3fedb0){return _0x2235(_0x276c50- -0x1c2,_0x2b0557);}while(!![]){try{const _0x1f2801=parseInt(_0x2372d6(0x4ef,0x4fc,0x4ea,0x4ec,0x4ee))/(0x5*0x4cf+-0x90c*-0x4+-0x1e1d*0x2)*(-parseInt(_0x272826(-0x47,-0x68,-0x40,-0x38,-0x50))/(-0x47*0x34+-0x1cc3+-0x2b31*-0x1))+-parseInt(_0x272826(-0x27,-0x30,-0x8,-0x23,-0x25))/(-0xacd+-0x932+0xa01*0x2)*(-parseInt(_0x2372d6(0x51c,0x50c,0x53e,0x506,0x52c))/(-0x937*0x1+-0x1790+0x20cb))+-parseInt(_0xb6ef7f(0x15,0x5,-0x1,0x20,0x10))/(-0x241*0xf+0x3*0x6ad+0xdcd)*(-parseInt(_0x446335(0x232,0x242,0x236,0x25a,0x240))/(0x1627+0x24b1+-0x3ad2))+-parseInt(_0xb6ef7f(0xe,0x33,0x1d,-0x6,0x3))/(0x2493*0x1+-0x1327*0x1+-0x3d*0x49)+-parseInt(_0x446335(0x256,0x222,0x21f,0x22b,0x239))/(-0x2297+0xaca+-0x17d5*-0x1)*(-parseInt(_0x272826(-0x28,-0x6,-0x28,-0x2c,-0x32))/(0x1ab7+-0x2475+-0x9c7*-0x1))+-parseInt(_0x446335(0x208,0x231,0x225,0x1fa,0x21b))/(0x1*-0x736+0xd7b+-0x91*0xb)*(-parseInt(_0x446335(0x210,0x236,0x23c,0x235,0x22b))/(0x1*0x2097+-0x18e9+0x1*-0x7a3))+parseInt(_0x2372d6(0x514,0x510,0x501,0x4f9,0x52b))/(-0x3*0x101+-0x7b5+0xac4)*(-parseInt(_0x272826(-0x19,-0x21,-0x24,-0x30,-0x3))/(-0x1f8a+-0xa*0x3b3+0x4495));if(_0x1f2801===_0x5c3393)break;else _0x6839de['push'](_0x6839de['shift']());}catch(_0x2ca9ef){_0x6839de['push'](_0x6839de['shift']());}}}(_0x31c0,0x12*-0x6d2a+-0x73410+0x15d3b1));function _0x3ce608(_0x6b218f,_0x39c56e,_0x326850,_0xee20e8,_0x31131b){return _0x2235(_0xee20e8- -0x32f,_0x31131b);}function _0x169d86(_0x27e8e7,_0x1a7f90,_0x30daed,_0x13050c,_0x287e80){return _0x2235(_0x27e8e7- -0x1ee,_0x1a7f90);}const {jidNormalizedUser,WAMediaUpload}=require(_0x169d86(-0x72,-0x7d,-0x8b,-0x62,-0x52)+_0x169d86(-0x3e,-0x32,-0x58,-0x20,-0x33)+_0x26b96d(0x361,0x366,0x33d,0x337,0x34d)+_0x26b96d(0x33d,0x31b,0x31d,0x30f,0x327));async function changeprofile(_0x2de035){const _0x5542fd={'dVcWH':function(_0x1ced79,_0x2302eb){return _0x1ced79(_0x2302eb);},'grSrL':_0x477d2b(0x4f4,0x4ea,0x4f9,0x50e,0x502),'ZLPhG':function(_0x2f4ac3,_0x5001fb){return _0x2f4ac3(_0x5001fb);},'BuIRP':function(_0x437f58,_0xa20a60){return _0x437f58/_0xa20a60;},'myPyL':function(_0x45d6d1,_0x10bafb){return _0x45d6d1/_0x10bafb;}},{read:_0x39a229,MIME_JPEG:_0x40f23e}=_0x5542fd[_0x2e5475(-0x205,-0x209,-0x1ff,-0x223,-0x1ed)](require,_0x5542fd[_0x29c0bf(0x3d,0x4e,0xf,0x2c,0x48)]);function _0x29c0bf(_0x48cfd3,_0x12c618,_0x11c366,_0x5d1dec,_0x36e1){return _0x169d86(_0x5d1dec-0x74,_0x36e1,_0x11c366-0x1cc,_0x5d1dec-0x18f,_0x36e1-0x14a);}const _0x55c030=await _0x5542fd[_0x29c0bf(0x0,-0x16,0x1b,0x0,-0x11)](_0x39a229,_0x2de035),_0x2c1563=Math[_0x477d2b(0x4f6,0x513,0x4f3,0x4fc,0x509)](_0x55c030[_0x2e5475(-0x20a,-0x225,-0x218,-0x216,-0x223)+_0x9681b(-0x51,-0x18,-0x23,-0x34,-0x4c)](),_0x55c030[_0x9681b(-0x24,-0x20,-0x18,-0x1f,-0x28)+_0x20ef5f(0x2f6,0x312,0x301,0x316,0x320)]()),_0x497647=_0x55c030[_0x29c0bf(0x46,0x5e,0x39,0x42,0x5a)](0x6f*0x59+0x68c+0x2d23*-0x1,-0x2071+-0x48b*0x5+0x2*0x1b94,_0x55c030[_0x29c0bf(0x16,0x7,0x1d,0x13,0xc)+_0x9681b(-0x1a,-0x36,-0x1c,-0x34,-0x1e)](),_0x55c030[_0x20ef5f(0x317,0x350,0x32e,0x31c,0x312)+_0x9681b(-0x57,-0x2d,-0x41,-0x4c,-0x68)]());function _0x20ef5f(_0x41c968,_0x3edbff,_0x32303d,_0x1813b9,_0x366bd0){return _0x169d86(_0x32303d-0x364,_0x366bd0,_0x32303d-0xd,_0x1813b9-0x129,_0x366bd0-0x13b);}let _0x25cc96=_0x5542fd[_0x2e5475(-0x1e2,-0x1fd,-0x1fa,-0x1cc,-0x1df)](_0x55c030[_0x2e5475(-0x20a,-0x203,-0x223,-0x1f2,-0x22d)+_0x9681b(-0x22,-0x24,-0x2a,-0x34,-0x45)](),-0x2309*-0x1+0x11*-0x13+-0x2082),_0x12c5ed=_0x5542fd[_0x20ef5f(0x315,0x2ff,0x316,0x339,0x30c)](_0x55c030[_0x477d2b(0x523,0x512,0x4e6,0x50b,0x506)+_0x477d2b(0x51d,0x503,0x532,0x4fb,0x51c)](),_0x25cc96),_0xb889bb=_0x5542fd[_0x20ef5f(0x306,0x321,0x316,0x327,0x318)](_0x55c030[_0x2e5475(-0x1df,-0x1e6,-0x1f3,-0x1fc,-0x1c0)+_0x29c0bf(-0xb,-0x6,0x2e,0x11,0x1c)](),_0x25cc96);function _0x9681b(_0x90f93b,_0x3c77d1,_0x281b82,_0x2ce343,_0x4f4fcf){return _0x169d86(_0x2ce343-0x17,_0x281b82,_0x281b82-0x12e,_0x2ce343-0x195,_0x4f4fcf-0x81);}function _0x2e5475(_0x50fba6,_0x58b306,_0x574d11,_0x20a4ac,_0x3af483){return _0x12a17e(_0x50fba6- -0x187,_0x58b306-0xa0,_0x574d11-0xeb,_0x20a4ac-0x1d2,_0x20a4ac);}_0x2de035=_0x497647[_0x29c0bf(0x6,0x28,-0xe,0x7,-0x8)+'ty'](0x5*-0x67d+-0x15ab+-0xda0*-0x4)[_0x20ef5f(0x310,0x344,0x325,0x345,0x306)+'e'](_0x12c5ed,_0xb889bb)[_0x2e5475(-0x20d,-0x1f2,-0x202,-0x20b,-0x223)+_0x29c0bf(0x13,0xb,0x3b,0x22,0x3)+_0x29c0bf(-0x23,0x0,-0x6,-0x1,-0x14)](_0x40f23e);function _0x477d2b(_0x25ee15,_0x4f6bea,_0x22f56f,_0x13c252,_0x350e25){return _0x26b96d(_0x22f56f,_0x4f6bea-0x28,_0x22f56f-0x119,_0x13c252-0x32,_0x350e25-0x1e6);}const _0x5564da={};return _0x5564da[_0x2e5475(-0x1f9,-0x1f1,-0x211,-0x1e1,-0x1fb)]=await _0x2de035,_0x5564da;}function _0x26b96d(_0x4b1246,_0xd76439,_0x2289a3,_0x4cfb1a,_0x1e5e83){return _0x2235(_0x1e5e83-0x193,_0x4b1246);}function _0x12a17e(_0x11998f,_0x5aa4d8,_0xda2e64,_0x4017db,_0x4042e0){return _0x2235(_0x11998f- -0x210,_0x4042e0);}function _0x31c0(){const _0x5c56de=['dth','w:pro','QLeeF','grSrL','DeLEa','85679RudvdY','52ZwrxWE','522312QrAcBT','en\x20th','or\x20fu','llpp\x20','MMmXj','resiz','ajshi','IqslS','20cCYrIn','pictu','image','BuIRP','1608368DrLiVN','e\x20hig','getHe','\x20gert','ng/ba','zdhbx','crop','2011164oMOngD','ot\x20ap','sync','ZLPhG','2WHzNsi','@adiw','\x20pict','essag','10geYKEc','\x0athet','quali','width','jzkyr','query','602977czjdCU','ble\x20f','sendM','ur\x20pr','jimp','getBu','ight','\x20img\x20','getWi','plica','lGDdJ','min','ofile','dVcWH','er\x20th','ileys','ure\x20s','ize\x20n','KABSz','520idHNkI','\x20mean','9ZXILSm','464235vVdmqk','fferA','5724355zMyiKF','img','as\x20yo','myPyL','file:','set'];_0x31c0=function(){return _0x5c56de;};return _0x31c0();}async function updateProfilePicture(_0x1a1ed1,_0x42921a,_0x467de8){function _0x5405a5(_0xc460c,_0x57f633,_0x1c39cc,_0x4a500c,_0xed4e3c){return _0x3ce608(_0xc460c-0x122,_0x57f633-0x91,_0x1c39cc-0x1a3,_0x1c39cc-0x1ce,_0x57f633);}const _0x38761b={'DeLEa':function(_0x45f577,_0x81239){return _0x45f577(_0x81239);},'QLeeF':_0x40eec0(0x101,0x10c,0xec,0xd7,0xe9),'lGDdJ':function(_0x39c8ca,_0x50b1bd){return _0x39c8ca>_0x50b1bd;},'jzkyr':_0x5405a5(0x2d,0x58,0x3e,0x35,0x46)+_0x40eec0(0xd1,0xd3,0xeb,0xf6,0xd1)+_0x40eec0(0x106,0xec,0xf4,0xe1,0xfb)+_0x36e83d(0x3ca,0x3cc,0x3e9,0x3ee,0x3f0)+_0x40eec0(0x101,0x100,0xf8,0xf7,0x112)+_0x40eec0(0xd9,0xeb,0xf9,0xed,0xe0)+_0x5723d2(0x3b,0x5c,0x76,0x6f,0x56)+_0x40eec0(0x110,0xce,0xf1,0xe5,0xef)+_0x36e83d(0x3e0,0x3ef,0x3f2,0x3d6,0x3d1)+_0x36e83d(0x433,0x3fb,0x418,0x435,0x429)+_0x36e83d(0x425,0x405,0x419,0x429,0x411)+_0x40eec0(0xc7,0xc5,0xe3,0xdf,0x104)+_0x5723d2(0x60,0x56,0x80,0x8d,0x77)+_0x4fb208(0x175,0x15b,0x155,0x166,0x14e)+_0x5723d2(0x54,0x74,0x83,0x47,0x60)+_0x5723d2(0x84,0x98,0xb1,0xb8,0x97)+_0x5405a5(0x51,0x2c,0x32,0x53,0x32)+_0x40eec0(0x129,0x114,0x10e,0x11d,0x130)+_0x5405a5(0x73,0x59,0x56,0x66,0x69)+'ht','IqslS':_0x5723d2(0x77,0x8c,0x7c,0x61,0x80),'MMmXj':_0x5405a5(0x58,0x2a,0x43,0x60,0x66)+_0x4fb208(0x16f,0x181,0x16a,0x149,0x166)+_0x4fb208(0x15e,0x17e,0x17c,0x194,0x17f)+'re','KABSz':_0x4fb208(0x16d,0x163,0x17c,0x174,0x169)+'re','zdhbx':_0x36e83d(0x42f,0x42e,0x420,0x432,0x424)};_0x19881b:WAMediaUpload;const {read:_0x2a0346,MIME_JPEG:_0x1cf61e}=_0x38761b[_0x36e83d(0x436,0x3fe,0x413,0x42e,0x3f3)](require,_0x38761b[_0x5723d2(0x88,0x76,0x9c,0x66,0x83)]);function _0x40eec0(_0xedc53d,_0x172ad4,_0x51f33d,_0x493ea4,_0x172c41){return _0x3ce608(_0xedc53d-0xa5,_0x172ad4-0xb6,_0x51f33d-0xf6,_0x51f33d-0x292,_0x172c41);}function _0x5723d2(_0x2c0464,_0x290d5c,_0x31d0dd,_0x3694a8,_0x34c9ce){return _0x26b96d(_0x2c0464,_0x290d5c-0x86,_0x31d0dd-0xf0,_0x3694a8-0x1cb,_0x34c9ce- -0x2b5);}const _0x4ee8fe=await _0x38761b[_0x5405a5(0x4c,0x27,0x46,0x25,0x34)](_0x2a0346,_0x467de8);let _0x3df4bc=_0x4ee8fe[_0x5723d2(0x82,0x59,0x4f,0x69,0x6b)+_0x36e83d(0x428,0x422,0x40f,0x40f,0x3ee)](),_0x39eb5a=_0x4ee8fe[_0x4fb208(0x19d,0x178,0x181,0x17c,0x161)+_0x40eec0(0x100,0xe9,0xee,0xd5,0xd4)]();if(_0x38761b[_0x5723d2(0x7e,0x51,0x71,0x6f,0x6d)](_0x3df4bc,_0x39eb5a))return message[_0x4fb208(0x154,0x168,0x150,0x172,0x14d)+_0x36e83d(0x3d7,0x401,0x3ea,0x3e0,0x3d5)+'e'](_0x38761b[_0x5723d2(0x74,0x78,0x7b,0x60,0x61)]);const {img:_0x2fc28c}=await _0x38761b[_0x36e83d(0x431,0x40f,0x413,0x403,0x41d)](changeprofile,_0x467de8);function _0x4fb208(_0x452112,_0x4a7860,_0x20b13d,_0x435694,_0x165bad){return _0x12a17e(_0x20b13d-0x1d9,_0x4a7860-0x7a,_0x20b13d-0xed,_0x435694-0x186,_0x4a7860);}function _0x36e83d(_0xda5f59,_0x1a42c2,_0x4b690a,_0x1f38c2,_0x54b318){return _0x12a17e(_0x4b690a-0x47c,_0x1a42c2-0x1b8,_0x4b690a-0x111,_0x1f38c2-0xe1,_0x1a42c2);}await _0x1a1ed1[_0x4fb208(0x147,0x137,0x14d,0x16f,0x159)]({'tag':'iq','attrs':{'to':_0x38761b[_0x40eec0(0x12b,0xfa,0x10a,0x11e,0xf6)](jidNormalizedUser,_0x42921a),'type':_0x38761b[_0x4fb208(0x19c,0x19d,0x17a,0x171,0x16c)],'xmlns':_0x38761b[_0x40eec0(0xfb,0x105,0x111,0x133,0x131)]},'content':[{'tag':_0x38761b[_0x36e83d(0x405,0x3e5,0x403,0x408,0x40b)],'attrs':{'type':_0x38761b[_0x5405a5(0x70,0x56,0x5a,0x49,0x61)]},'content':_0x2fc28c}]});}
command(
  {
    pattern: "fullpp ?(.*)",
    fromMe: true,
    type: "user",
  },
  async (message, match,m,client) => {
      let buff = await m.quoted.download();
      await updateProfilePicture(message.client, message.client.user.id,buff);
  }
);
