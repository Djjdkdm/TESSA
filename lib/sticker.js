function _0x2751(){const _0x1e2408=['from','join','error','default','stringify','writeFileSync','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','load','28kQxRgU','00:00:05','474122dKArwg','-preset','utf-8','-vsync','path','webp','.jpg','1767392wnOfFS','.mp4','writeUIntLE','author','.webp','libwebp','1661642XHtvcK','4phtosu','00:00:00','concat','806370PqXZfO','1168284VxXfKx','packname','-loop','readUIntLE','https://github.com/Diegoson/AMAROK-MD','readFileSync','-vcodec','toString','unlinkSync','1780203jDaeGJ','end','addOutputOptions','Image','-vf','categories','11929311NnaPKN','fluent-ffmpeg','save','length','randomBytes','exif'];_0x2751=function(){return _0x1e2408;};return _0x2751();}const _0x4286b1=_0x43eb;(function(_0x5e67e5,_0x589f8e){const _0x4f51ce=_0x43eb,_0x18cd85=_0x5e67e5();while(!![]){try{const _0x27480e=-parseInt(_0x4f51ce(0xc9))/0x1+parseInt(_0x4f51ce(0xa5))/0x2+parseInt(_0x4f51ce(0xb3))/0x3+parseInt(_0x4f51ce(0xa6))/0x4*(-parseInt(_0x4f51ce(0xa9))/0x5)+parseInt(_0x4f51ce(0xaa))/0x6*(parseInt(_0x4f51ce(0xc7))/0x7)+parseInt(_0x4f51ce(0x9f))/0x8+-parseInt(_0x4f51ce(0xb9))/0x9;if(_0x27480e===_0x589f8e)break;else _0x18cd85['push'](_0x18cd85['shift']());}catch(_0x43b82c){_0x18cd85['push'](_0x18cd85['shift']());}}}(_0x2751,0x71117));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require('crypto'),ff=require(_0x4286b1(0xba)),webp=require('node-webpmux'),path=require(_0x4286b1(0x9c));function _0x43eb(_0x5e4a97,_0x2032ea){const _0x275196=_0x2751();return _0x43eb=function(_0x43eb9b,_0x15e531){_0x43eb9b=_0x43eb9b-0x9b;let _0x4da802=_0x275196[_0x43eb9b];return _0x4da802;},_0x43eb(_0x5e4a97,_0x2032ea);}async function imageToWebp(_0x272381){const _0x35d73b=_0x4286b1,_0x2d00c4=path[_0x35d73b(0xc0)](tmpdir(),Crypto[_0x35d73b(0xbd)](0x6)['readUIntLE'](0x0,0x6)[_0x35d73b(0xb1)](0x24)+_0x35d73b(0xa3)),_0x177f7a=path[_0x35d73b(0xc0)](tmpdir(),Crypto[_0x35d73b(0xbd)](0x6)[_0x35d73b(0xad)](0x0,0x6)['toString'](0x24)+_0x35d73b(0x9e));fs['writeFileSync'](_0x177f7a,_0x272381),await new Promise((_0x349eea,_0x526bd6)=>{const _0x53c39e=_0x35d73b;ff(_0x177f7a)['on'](_0x53c39e(0xc1),_0x526bd6)['on'](_0x53c39e(0xb4),()=>_0x349eea(!![]))[_0x53c39e(0xb5)]([_0x53c39e(0xb0),_0x53c39e(0xa4),'-vf','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse'])['toFormat']('webp')[_0x53c39e(0xbb)](_0x2d00c4);});const _0x5d2fef=fs[_0x35d73b(0xaf)](_0x2d00c4);return fs[_0x35d73b(0xb2)](_0x2d00c4),fs['unlinkSync'](_0x177f7a),_0x5d2fef;}async function videoToWebp(_0x24a092){const _0x2e6fe1=_0x4286b1,_0x5178d1=path[_0x2e6fe1(0xc0)](tmpdir(),Crypto[_0x2e6fe1(0xbd)](0x6)[_0x2e6fe1(0xad)](0x0,0x6)[_0x2e6fe1(0xb1)](0x24)+_0x2e6fe1(0xa3)),_0xc7affa=path[_0x2e6fe1(0xc0)](tmpdir(),Crypto[_0x2e6fe1(0xbd)](0x6)[_0x2e6fe1(0xad)](0x0,0x6)[_0x2e6fe1(0xb1)](0x24)+_0x2e6fe1(0xa0));fs[_0x2e6fe1(0xc4)](_0xc7affa,_0x24a092),await new Promise((_0x2d84b6,_0xec2c36)=>{const _0x655908=_0x2e6fe1;ff(_0xc7affa)['on']('error',_0xec2c36)['on'](_0x655908(0xb4),()=>_0x2d84b6(!![]))['addOutputOptions']([_0x655908(0xb0),_0x655908(0xa4),_0x655908(0xb7),_0x655908(0xc5),_0x655908(0xac),'0','-ss',_0x655908(0xa7),'-t',_0x655908(0xc8),_0x655908(0xca),_0x655908(0xc2),'-an',_0x655908(0x9b),'0'])['toFormat'](_0x655908(0x9d))[_0x655908(0xbb)](_0x5178d1);});const _0x23452f=fs[_0x2e6fe1(0xaf)](_0x5178d1);return fs[_0x2e6fe1(0xb2)](_0x5178d1),fs[_0x2e6fe1(0xb2)](_0xc7affa),_0x23452f;}async function writeExifImg(_0x44ac35,_0x242df6){const _0x57e850=_0x4286b1;let _0x36e27c=await imageToWebp(_0x44ac35);const _0x22c80b=path[_0x57e850(0xc0)](tmpdir(),Crypto[_0x57e850(0xbd)](0x6)['readUIntLE'](0x0,0x6)[_0x57e850(0xb1)](0x24)+'.webp'),_0x2e5ed9=path[_0x57e850(0xc0)](tmpdir(),Crypto[_0x57e850(0xbd)](0x6)[_0x57e850(0xad)](0x0,0x6)[_0x57e850(0xb1)](0x24)+'.webp');fs['writeFileSync'](_0x22c80b,_0x36e27c);if(_0x242df6[_0x57e850(0xab)]||_0x242df6[_0x57e850(0xa2)]){const _0x28b31b=new webp[(_0x57e850(0xb6))](),_0x18020d={'sticker-pack-id':'https://github.com/Diegoson/AMAROK-MD','sticker-pack-name':_0x242df6['packname'],'sticker-pack-publisher':_0x242df6['author'],'emojis':_0x242df6['categories']?_0x242df6[_0x57e850(0xb8)]:['']},_0xd16ae0=Buffer[_0x57e850(0xbf)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x1f43a2=Buffer[_0x57e850(0xbf)](JSON[_0x57e850(0xc3)](_0x18020d),'utf-8'),_0x2acad2=Buffer['concat']([_0xd16ae0,_0x1f43a2]);return _0x2acad2[_0x57e850(0xa1)](_0x1f43a2[_0x57e850(0xbc)],0xe,0x4),await _0x28b31b[_0x57e850(0xc6)](_0x22c80b),fs[_0x57e850(0xb2)](_0x22c80b),_0x28b31b[_0x57e850(0xbe)]=_0x2acad2,await _0x28b31b[_0x57e850(0xbb)](_0x2e5ed9),_0x2e5ed9;}}async function writeExifVid(_0x1da53e,_0x3b1170){const _0x3ab858=_0x4286b1;let _0x44b792=await videoToWebp(_0x1da53e);const _0x449f72=path[_0x3ab858(0xc0)](tmpdir(),Crypto[_0x3ab858(0xbd)](0x6)['readUIntLE'](0x0,0x6)[_0x3ab858(0xb1)](0x24)+_0x3ab858(0xa3)),_0x534533=path[_0x3ab858(0xc0)](tmpdir(),Crypto[_0x3ab858(0xbd)](0x6)['readUIntLE'](0x0,0x6)[_0x3ab858(0xb1)](0x24)+_0x3ab858(0xa3));fs[_0x3ab858(0xc4)](_0x449f72,_0x44b792);if(_0x3b1170[_0x3ab858(0xab)]||_0x3b1170['author']){const _0x2e80cf=new webp['Image'](),_0x43acff={'sticker-pack-id':_0x3ab858(0xae),'sticker-pack-name':_0x3b1170['packname'],'sticker-pack-publisher':_0x3b1170[_0x3ab858(0xa2)],'emojis':_0x3b1170[_0x3ab858(0xb8)]?_0x3b1170['categories']:['']},_0x35a40d=Buffer[_0x3ab858(0xbf)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x5aac77=Buffer['from'](JSON[_0x3ab858(0xc3)](_0x43acff),_0x3ab858(0xcb)),_0x4f73ca=Buffer[_0x3ab858(0xa8)]([_0x35a40d,_0x5aac77]);return _0x4f73ca['writeUIntLE'](_0x5aac77[_0x3ab858(0xbc)],0xe,0x4),await _0x2e80cf[_0x3ab858(0xc6)](_0x449f72),fs[_0x3ab858(0xb2)](_0x449f72),_0x2e80cf[_0x3ab858(0xbe)]=_0x4f73ca,await _0x2e80cf['save'](_0x534533),_0x534533;}}async function writeExifWebp(_0x46800c,_0x341c4d){const _0x5024a5=_0x4286b1,_0x56aea4=path[_0x5024a5(0xc0)](tmpdir(),Crypto[_0x5024a5(0xbd)](0x6)[_0x5024a5(0xad)](0x0,0x6)[_0x5024a5(0xb1)](0x24)+_0x5024a5(0xa3)),_0x33cc2e=path['join'](tmpdir(),Crypto['randomBytes'](0x6)[_0x5024a5(0xad)](0x0,0x6)[_0x5024a5(0xb1)](0x24)+'.webp');fs[_0x5024a5(0xc4)](_0x56aea4,_0x46800c);if(_0x341c4d[_0x5024a5(0xab)]||_0x341c4d[_0x5024a5(0xa2)]){const _0x31ca54=new webp[(_0x5024a5(0xb6))](),_0x1df9b8={'sticker-pack-id':_0x5024a5(0xae),'sticker-pack-name':_0x341c4d['packname'],'sticker-pack-publisher':_0x341c4d[_0x5024a5(0xa2)],'emojis':_0x341c4d['categories']?_0x341c4d['categories']:['']},_0x56525c=await Buffer[_0x5024a5(0xbf)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x4fa06d=await Buffer[_0x5024a5(0xbf)](JSON[_0x5024a5(0xc3)](_0x1df9b8),_0x5024a5(0xcb)),_0x21a2f1=await Buffer['concat']([_0x56525c,_0x4fa06d]);return await _0x21a2f1[_0x5024a5(0xa1)](_0x4fa06d[_0x5024a5(0xbc)],0xe,0x4),await _0x31ca54[_0x5024a5(0xc6)](_0x56aea4),fs['unlinkSync'](_0x56aea4),_0x31ca54[_0x5024a5(0xbe)]=_0x21a2f1,await _0x31ca54[_0x5024a5(0xbb)](_0x33cc2e),_0x33cc2e;}}module['exports']={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp};
